/** Kraken v5.6.0, by Chris Ferdinandi | http://github.com/cferdinandi/kraken | Licensed under MIT: http://gomakethings.com/mit/ */
$(document).ready(function(){function e(){var e="p";$(e).each(function(){var e=$(this).html().replace(/&nbsp;/g," ");$(this).html(e)}).widowFix()}function t(){var e=".winH{ min-height:"+$(window).height()+"px;}",t=".winHalf{ top:"+$(window).height()/2+"px;}",n="<style>"+e+t+"</style>";$(".jsdump").html(n)}function n(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)?!0:!1}function a(){n()?($(".fa-twitter").attr("href","twitter://post?message="+encodeURIComponent(document.URL)),$(".fa-facebook").attr("href","https://www.facebook.com/sharer/sharer.php?s=100&p[url]="+encodeURIComponent(document.URL))):($(".fa-twitter").attr("href","https://twitter.com/home?status="+encodeURIComponent(document.URL)),$(".fa-facebook").attr("href","https://www.facebook.com/sharer/sharer.php?s=100&p[url]="+encodeURIComponent(document.URL)))}function o(e){var t=e.replace(/[_]/g,"/"),n=e;"home"==e&&(t="",n="intro"),Path.map("#!/"+t).enter(function(){$(".view-on").removeClass("view-on"),$("footer a").attr("onclick","")}).to(function(){var a=new Audio("swipe.mp3");a.play(),$("#"+e).addClass("view-on").parent().addClass("view-on"),$("main").attr("cur-slide",n).attr("cur-chapter",n.replace(/([_])\w+/g,"")).attr("cur-page",n.replace(/\w+([_])/g,"")),$('footer a[href$="#!/'+t+'"]').addClass("view-on").attr("onclick","return false"),i(),r()})}function i(){if("connect-on-energy"==$(".page.view-on").attr("id"))var e="#!/";else{var t=$(".page.view-on").next(".page");if(0==t.length)var e="#!/"+$(".page.view-on").parent().next().children().first(".page").attr("id").replace(/[_]/g,"/");else var e="#!/"+$(".page.view-on").next(".page").attr("id").replace(/[_]/g,"/")}if("home"==$(".page.view-on").attr("id"))var n="#!/connect-on-energy";else if("home"==$(".page.view-on").prev(".page").attr("id"))var n="#!/";else{var a=$(".page.view-on").prev(".page");if(0==a.length)var n="#!/"+$(".page.view-on").parent().prev().children().next(".page:last-of-type").attr("id").replace(/[_]/g,"/");else var n="#!/"+$(".page.view-on").prev(".page").attr("id").replace(/[_]/g,"/")}$(".pageNav .icon-right").attr("href",e),$(".pageNav .icon-left").attr("href",n)}function r(){}function c(e){e=e||window.event,"37"==e.keyCode?($(".pageNav .icon-left").get(0).click(),i()):"39"==e.keyCode&&($(".pageNav .icon-right").get(0).click(),i())}e(),t();var s=function(){var e=window.getComputedStyle(document.documentElement,""),t=(Array.prototype.slice.call(e).join("").match(/-(moz|webkit|ms)-/)||""===e.OLink&&["","o"])[1],n="WebKit|Moz|MS|O".match(new RegExp("("+t+")","i"))[1];return{dom:n,lowercase:t,css:"-"+t+"-",js:t[0].toUpperCase()+t.substr(1)}}();$("body").addClass(s.lowercase),-1!=navigator.userAgent.indexOf("Safari")&&(-1==navigator.userAgent.indexOf("Chrome")?$("body").addClass("safari"):($("body").addClass("chrome"),$(".scene").addClass("noshadow"))),a(),$(".social > a").click(function(){var e,t,n=400,a=300;return e=window.screen.width/2-(n/2+10),t=window.screen.height/2-(a/2+50),window.open(this.href,"newwindow","width="+n+", height="+a+", resizable=yes, left="+(window.screen.width/2-(n/2+10))+", top="+(window.screen.height/2-(a/2+50))+", screenX="+(window.screen.width/2-(n/2+10))+", screenY=300"),!1}),$(".hamburger-wrap").click(function(){$("body, .sideNav, .permNav").toggleClass("active")}),$(".profile-link, section").click(function(){$("body, .sideNav, .permNav").removeClass("active");var e=new Audio("click.mp3");e.play()}),$(".audClick:not(view-on)").click(function(){var e=new Audio("click.mp3");e.play()}),$(".page").each(function(){o($(this).attr("id"))}),Path.root("#!/"),Path.listen(),i(),document.onkeydown=c;var d=_.debounce(function(){t(),e()},500);window.addEventListener("resize",d,!1);var p=_.throttle(function(){},500);window.addEventListener("scroll",p,!1)}),$(window).load(function(){$(".loader").css("display","none")});