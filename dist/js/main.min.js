/** Kraken v5.6.0, by Chris Ferdinandi | http://github.com/cferdinandi/kraken | Licensed under MIT: http://gomakethings.com/mit/ */
$(document).ready(function(){function e(){var e="p",t="p:not(.tx-center)";$(e).each(function(){var e=$(this).html().replace(/&nbsp;/g," ");$(this).html(e)}).widowFix(),$(t).each(function(){var e=$(this).html().replace(/&shy;/g,"");$(this).html(e),$(this).hyphenate("en-us")})}function t(){var e=".winH{ min-height:"+$(window).height()+"px;}",t=".winHalf{ top:"+$(window).height()/2+"px;}",a="<style>"+e+t+"</style>";$(".jsdump").html(a)}function a(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)?!0:!1}function n(){a()?($(".fa-twitter").attr("href","twitter://post?message="+encodeURIComponent(document.URL)),$(".fa-facebook").attr("href","https://www.facebook.com/sharer/sharer.php?s=100&p[url]="+encodeURIComponent(document.URL))):($(".fa-twitter").attr("href","https://twitter.com/home?status="+encodeURIComponent(document.URL)),$(".fa-facebook").attr("href","https://www.facebook.com/sharer/sharer.php?s=100&p[url]="+encodeURIComponent(document.URL)))}function o(e){var t=e.replace(/[_]/g,"/"),a=e;"home"==e&&(t="",a="intro"),Path.map("#!/"+t).enter(function(){$(".view-on").removeClass("view-on"),$("footer a").attr("onclick","")}).to(function(){$("#"+e).addClass("view-on").parent().addClass("view-on"),$("main").attr("cur-slide",a).attr("cur-chapter",a.replace(/([_])\w+/g,"")).attr("cur-page",a.replace(/\w+([_])/g,"")),$('footer a[href$="#!/'+t+'"]').addClass("view-on").attr("onclick","return false"),r()})}function r(){if("appendix"==$(".page.view-on").next(".page"))var e="#!/";else{var t=$(".page.view-on").next(".page");if(0==t.length)var a="#!/"+$(".page.view-on").parent().next().children().first(".page").attr("id").replace(/[_]/g,"/");else var a="#!/"+$(".page.view-on").next(".page").attr("id").replace(/[_]/g,"/")}if("home"==$(".page.view-on").attr("id"))var e="#!/";else if("home"==$(".page.view-on").prev(".page").attr("id"))var e="#!/";else{var n=$(".page.view-on").prev(".page");if(0==n.length)var e="#!/"+$(".page.view-on").parent().prev().children().next(".page:last-of-type").attr("id").replace(/[_]/g,"/");else var e="#!/"+$(".page.view-on").prev(".page").attr("id").replace(/[_]/g,"/")}$(".pageNav .fa-chevron-circle-right").attr("href",a),$(".pageNav .fa-chevron-circle-left").attr("href",e)}function i(e){e=e||window.event,"37"==e.keyCode?($(".pageNav .fa-chevron-circle-left").get(0).click(),r()):"39"==e.keyCode&&($(".pageNav .fa-chevron-circle-right").get(0).click(),r())}e(),t();var c=function(){var e=window.getComputedStyle(document.documentElement,""),t=(Array.prototype.slice.call(e).join("").match(/-(moz|webkit|ms)-/)||""===e.OLink&&["","o"])[1],a="WebKit|Moz|MS|O".match(new RegExp("("+t+")","i"))[1];return{dom:a,lowercase:t,css:"-"+t+"-",js:t[0].toUpperCase()+t.substr(1)}}();$("body").addClass(c.lowercase),-1!=navigator.userAgent.indexOf("Safari")&&(-1==navigator.userAgent.indexOf("Chrome")?$("body").addClass("safari"):($("body").addClass("chrome"),$(".scene").addClass("noshadow"))),n(),$(".social > a").click(function(){var e,t,a=400,n=300;return e=window.screen.width/2-(a/2+10),t=window.screen.height/2-(n/2+50),window.open(this.href,"newwindow","width="+a+", height="+n+", resizable=yes, left="+(window.screen.width/2-(a/2+10))+", top="+(window.screen.height/2-(n/2+50))+", screenX="+(window.screen.width/2-(a/2+10))+", screenY=300"),!1}),$(".hamburger-wrap").click(function(){$("body, .sideNav, .permNav").toggleClass("active")}),$(".audClick:not(view-on)").click(function(){var e=new Audio("click.mp3");e.play()}),$(".audSwipe:not(view-on)").click(function(){var e=new Audio("swipe.mp3");e.play()}),$(".page").each(function(){o($(this).attr("id"))}),Path.root("#!/"),Path.listen(),r(),document.onkeydown=i;var s=_.debounce(function(){t(),e()},500);window.addEventListener("resize",s,!1);var d=_.throttle(function(){},500);window.addEventListener("scroll",d,!1)}),$(window).load(function(){$(".loader").css("display","none")});