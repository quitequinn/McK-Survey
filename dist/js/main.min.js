/** Kraken v5.6.0, by Chris Ferdinandi | http://github.com/cferdinandi/kraken | Licensed under MIT: http://gomakethings.com/mit/ */
$(document).ready(function(){function e(){var e="p";$(e).each(function(){var e=$(this).html().replace(/&nbsp;/g," ");$(this).html(e)}).widowFix()}function n(){var e=".winH{ min-height:"+$(window).height()+"px;} .moz .winH{ height:"+$(window).height()+"px;}",n=".winHalf{ top:"+$(window).height()/2+"px;} ",o="<style>"+e+n+"</style>";$(".jsdump").html(o)}function o(){return navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/BlackBerry/i)||navigator.userAgent.match(/iPhone|iPad|iPod/i)||navigator.userAgent.match(/IEMobile/i)?!0:!1}function t(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)?!0:!1}function i(){t()?($(".fa-twitter").attr("href","twitter://post?message="+encodeURIComponent(document.URL)),$(".fa-facebook").attr("href","https://www.facebook.com/sharer/sharer.php?s=100&p[url]="+encodeURIComponent(document.URL))):($(".fa-twitter").attr("href","https://twitter.com/home?status="+encodeURIComponent(document.URL)),$(".fa-facebook").attr("href","https://www.facebook.com/sharer/sharer.php?s=100&p[url]="+encodeURIComponent(document.URL)))}function a(){$(".fullImg").each(function(){$(this).css("height",$(this).width())})}function r(){$(".fullHeight").each(function(){$(this).css("height",$(this).parent().prev().height())})}function c(e){var n,o=e.replace(/[_]/g,"/"),t=e;"home"==e&&(o="",t="intro"),Path.map("#!/"+o).enter(function(){$(".view-on").removeClass("view-on"),$("footer a").attr("onclick","")}).to(function(){var i=new Audio("swipe.mp3");i.play(),$("#"+e).addClass("view-on").parent().addClass("view-on"),n=$(".page.view-on").hasClass("profile")?"true":"false",$("main").attr("cur-slide",t).attr("cur-chapter",t.replace(/([_])\w+/g,"")).attr("cur-chapter",t.replace(/([_])\w+/g,"")).attr("profile",n),$('footer a[href$="#!/'+o+'"]').addClass("view-on").attr("onclick","return false"),s(),l(),a(),r(),f(),d(),h()})}function s(){if("connect-on-energy"==$(".page.view-on").attr("id"))var e="#!/";else{var n=$(".page.view-on").next(".page:not(.profile)");if(0==n.length)var e="#!/"+$(".page.view-on").parent().next().children().first(".page:not(.profile)").attr("id").replace(/[_]/g,"/");else var e="#!/"+$(".page.view-on").next(".page").attr("id").replace(/[_]/g,"/")}if("home"==$(".page.view-on").attr("id"))var o="#!/connect-on-energy";else if("home"==$(".page.view-on").prev(".page").attr("id"))var o="#!/";else{var t=$(".page.view-on").prev(".page:not(.profile)");if(0==t.length)var o="#!/"+$(".page.view-on").parent().prev().children().next(".page:not(.profile)").last().attr("id").replace(/[_]/g,"/");else var o="#!/"+$(".page.view-on").prev(".page").attr("id").replace(/[_]/g,"/")}$(".pageNav .icon-right").attr("href",e),$(".pageNav .icon-left").attr("href",o)}function l(){$(".complete").removeClass("complete"),$(".first-pageLink").nextUntil(".view-on").addClass("complete")}function u(e){e=e||window.event,"37"==e.keyCode?($(".pageNav .icon-left").get(0).click(),s()):"39"==e.keyCode&&($(".pageNav .icon-right").get(0).click(),s())}function p(){1==v?(v=2,$(".page.view-on .profile-img").css("background-color","white")):(v=1,$(".page.view-on .profile-img").css("background-color","black"))}function f(){$(".expando, .page").removeClass("expando-fixed"),$(".container").removeClass("oversize"),$(".page.view-on").height()<=$(window).height()?$(".page.view-on .expando, .page.view-on").addClass("expando-fixed"):$(".page.view-on .container").addClass("oversize")}function h(){$(".mapinfo").remove()}function d(){function e(){a+=1,$(".ball").css("left",a+"0%"),$("font.value").text(Math.round(20-12*(a/10))),10==a&&(a=0,clearInterval(i))}function n(e,n){$("body").append("<div class='mapinfo'><h6 class='no-space'>"+n+" jobs</h6><h6 class='no-space thin'>"+e+"</h6></div>")}function o(){$(".countercircle .target").html("Total Clean<br/>Energy Employees"),$(".countercircle .value").text("15,338")}function t(e,n,o){$("body").append("<div class='mapinfo'><h6 class='no-space'>"+o+"%</h6></div>"),$(".countercircle .target").text(e),$(".countercircle .value").text(n)}var i,a=0;$("#innovation_1").hasClass("view-on")&&(i=setInterval(e,500)),$("#economy_3").hasClass("view-on")?($("#energymap path.1").mouseover(function(){n("Central Region","1,393")}).mouseout(function(){h()}),$("#energymap path.2").mouseover(function(){n("Northeast","317")}).mouseout(function(){h()}),$("#energymap g.3").mouseover(function(){n("Northwest and West Central","357")}).mouseout(function(){h()}),$("#energymap path.5").mouseover(function(){n("Southwest","1,312")}).mouseout(function(){h()}),$("#energymap path.6").mouseover(function(){n("Southern Region","2,234")}).mouseout(function(){h()}),$("#energymap path.7").mouseover(function(){n("Twin Cities Metro","9,752")}).mouseout(function(){h()}),$(document).on("mousemove",function(e){$(".mapinfo").css("left",e.pageX),$(".mapinfo").css("top",e.pageY)})):$("#energymap path").unbind("mouseover").unbind("mouseout"),$("#economy_1").hasClass("view-on")?($("#energyCircle path.1").mouseover(function(){t("Smart Grid","967","6.3")}).mouseout(function(){h(),o()}),$("#energyCircle path.2").mouseover(function(){t("Solar Energy","1,230","8")}).mouseout(function(){h(),o()}),$("#energyCircle path.3").mouseover(function(){t("Bioenergy","1,823","11.9")}).mouseout(function(){h(),o()}),$("#energyCircle path.4").mouseover(function(){t("Wind Power","1,713","11.2")}).mouseout(function(){h(),o()}),$("#energyCircle path.5").mouseover(function(){t("Energy Efficiency","9,604","62.6")}).mouseout(function(){h(),o()}),$(document).on("mousemove",function(e){$(".mapinfo").css("left",e.pageX),$(".mapinfo").css("top",e.pageY)})):$("#energyCircle path").unbind("mouseover").unbind("mouseout")}function g(){$("#footerNav > a").each(function(){$(this).hasClass("chapterLink")?$(this).find(".footerInfo").css("margin-left",($(this).find(".footerInfo").width()-14)/-2):$(this).hasClass("homeLink")?$(this).find(".footerInfo").css("margin-left",($(this).find(".footerInfo").width()-14)/-2):$(this).find(".footerInfo").css("margin-left",$(this).find(".footerInfo").width()/-2)})}e(),n(),o()&&$("html").addClass("ismobile"),t()&&$("html").addClass("iphone");var m=function(){var e=window.getComputedStyle(document.documentElement,""),n=(Array.prototype.slice.call(e).join("").match(/-(moz|webkit|ms)-/)||""===e.OLink&&["","o"])[1],o="WebKit|Moz|MS|O".match(new RegExp("("+n+")","i"))[1];return{dom:o,lowercase:n,css:"-"+n+"-",js:n[0].toUpperCase()+n.substr(1)}}();$("body").addClass(m.lowercase),-1!=navigator.userAgent.indexOf("Safari")&&(-1==navigator.userAgent.indexOf("Chrome")?$("body").addClass("safari"):($("body").addClass("chrome"),$(".scene").addClass("noshadow"))),i(),$(".social > a").click(function(){var e,n,o=400,t=300;return e=window.screen.width/2-(o/2+10),n=window.screen.height/2-(t/2+50),window.open(this.href,"newwindow","width="+o+", height="+t+", resizable=yes, left="+(window.screen.width/2-(o/2+10))+", top="+(window.screen.height/2-(t/2+50))+", screenX="+(window.screen.width/2-(o/2+10))+", screenY=300"),!1}),$(".hamburger-wrap").click(function(){$("body, .sideNav, .permNav").toggleClass("active")}),$(".profile-link, section").click(function(){if($("body, .sideNav, .permNav").hasClass("active")){var e=new Audio("click.mp3");e.play()}$("body, .sideNav, .permNav").removeClass("active")}),$(".initial").click(function(){$(this).parent().toggleClass("active")}),$(".fa-close").click(function(){$(this).parent().parent().toggleClass("active")}),$(".audClick:not(view-on), input, .initial, .fa-close").click(function(){var e=new Audio("click.mp3");e.play()}),a(),r(),$(".page").each(function(){c($(this).attr("id"))}),Path.root("#!/"),Path.listen(),s(),document.onkeydown=u;var v=1;$("main").hammer().bind("swiperight",function(){$(".pageNav .icon-left").get(0).click(),s()}),$("main").hammer().bind("swipeleft",function(){$(".pageNav .icon-right").get(0).click(),s()}),f();var w=_.debounce(function(){n(),e(),a(),r(),f(),g()},500);window.addEventListener("resize",w,!1),$(".page").scroll(function(){p()}),$(window).load(function(){$(".loader").css("display","none"),n(),e(),a(),r(),f(),d(),g()})});